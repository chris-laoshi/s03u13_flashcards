<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Flashcards</title>

<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
  body {
    margin: 0;
    background: #0f0f0f;
    color: #fff;
    font-family: 'Patrick Hand', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .app {
    width: 100%;
    max-width: 480px;
    padding: 16px;
    box-sizing: border-box;
  }

  .card {
    background: #000;
    border-radius: 16px;
    width: 100%;
    aspect-ratio: 1 / 1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.5rem;
    text-align: center;
    cursor: pointer;
    user-select: none;
    overflow: hidden;
  }

  .card img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }

  .controlsRow {
    display: flex;
    gap: 12px;
    margin-top: 16px;
  }

  .controlsRow button {
    flex: 1;
  }

  .shuffleRow {
    margin-top: 12px;
  }

  .shuffleRow button {
    width: 100%;
  }

  button {
    font-family: inherit;
    font-size: 1.2rem;
    padding: 14px 10px;
    border-radius: 12px;
    border: none;
    background: #f1f1f1;
    color: #000;
    cursor: pointer;
  }

  button:active {
    transform: scale(0.97);
  }

  audio {
    display: none;
  }
</style>
</head>

<body>
<div class="app">
  <div class="card" id="card"></div>

  <!-- Row 1: Prev / Play / Next -->
  <div class="controlsRow">
    <button id="prev" type="button">â—€</button>
    <button id="play" type="button">â–¶</button>
    <button id="next" type="button">â–¶â–¶</button>
  </div>

  <!-- Row 2: Shuffle (icon + text) -->
  <div class="shuffleRow">
    <button id="shuffle" type="button">ðŸ”€ Shuffle</button>
  </div>

  <audio id="audio"></audio>
</div>

<script>
const cards = [
  {
    image: "https://i.postimg.cc/Wbg2JhR4/go-to-the-shop.webp",
    audio: "https://res.cloudinary.com/dugvo3tsb/video/upload/v1769842638/go_to_the_shop_rp5pux.wav",
    text: "go to the shop"
  },
  {
    image: "https://i.postimg.cc/c4ws8rqr/play-the-guitar.webp",
    audio: "https://res.cloudinary.com/dugvo3tsb/video/upload/v1769842638/play_the_guitar_mz3asa.wav",
    text: "play the guitar"
  },
  {
    image: "https://i.postimg.cc/tCWXVY07/read-a-newspaper.webp",
    audio: "https://res.cloudinary.com/dugvo3tsb/video/upload/v1769842638/read_a_newspaper_ew6nxj.wav",
    text: "read a newspaper"
  },
  {
    image: "https://i.postimg.cc/DyL2b8VX/surf-the-internet.webp",
    audio: "https://res.cloudinary.com/dugvo3tsb/video/upload/v1769842638/surf_the_internet_grtqm1.wav",
    text: "surf the internet"
  },
  {
    image: "https://i.postimg.cc/4NVJhmCy/use-the-phone.webp",
    audio: "https://res.cloudinary.com/dugvo3tsb/video/upload/v1769842638/use_the_phone_eaksen.wav",
    text: "use the phone"
  },
  {
    image: "https://i.postimg.cc/7Y0xTfvT/write-a-story.webp",
    audio: "https://res.cloudinary.com/dugvo3tsb/video/upload/v1769842638/write_a_story_g7kd5t.wav",
    text: "write a story"
  }
];

let index = 0;
let flipped = false;

const cardEl = document.getElementById("card");
const audioEl = document.getElementById("audio");

function render() {
  flipped = false;
  cardEl.innerHTML = `<img src="${cards[index].image}" alt="">`;
  audioEl.src = cards[index].audio;
}

function prevCard() {
  index = (index - 1 + cards.length) % cards.length;
  render();
}

function nextCard() {
  index = (index + 1) % cards.length;
  render();
}

function playAudio() {
  audioEl.currentTime = 0;
  audioEl.play();
}

function shuffleCard() {
  index = Math.floor(Math.random() * cards.length);
  render();
}

cardEl.addEventListener("click", () => {
  if (!flipped) {
    cardEl.textContent = cards[index].text;
    flipped = true;
  }
});

// IMPORTANT: each button has its own correct handler
document.getElementById("prev").addEventListener("click", prevCard);
document.getElementById("next").addEventListener("click", nextCard);
document.getElementById("play").addEventListener("click", playAudio);
document.getElementById("shuffle").addEventListener("click", shuffleCard);

render();
</script>
</body>
</html>
